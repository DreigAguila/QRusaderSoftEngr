<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QRusader - Malicious URL Detector</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Animated Waves Background -->
    <div class="waves-background">
      <!-- First Wave Layer -->
      <svg
        class="waves waves-1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
      >
        <defs>
          <path
            id="gentle-wave"
            d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"
          />
        </defs>
        <g class="parallax">
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="0"
            fill="rgba(37, 99, 235, 0.1)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="3"
            fill="rgba(37, 99, 235, 0.2)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="5"
            fill="rgba(37, 99, 235, 0.15)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="7"
            fill="rgba(37, 99, 235, 0.1)"
          />
        </g>
      </svg>

      <!-- Second Wave Layer -->
      <svg
        class="waves waves-2"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
      >
        <defs>
          <path
            id="gentle-wave-2"
            d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"
          />
        </defs>
        <g class="parallax-2">
          <use
            xlink:href="#gentle-wave-2"
            x="48"
            y="0"
            fill="rgba(59, 130, 246, 0.08)"
          />
          <use
            xlink:href="#gentle-wave-2"
            x="48"
            y="3"
            fill="rgba(59, 130, 246, 0.12)"
          />
          <use
            xlink:href="#gentle-wave-2"
            x="48"
            y="5"
            fill="rgba(59, 130, 246, 0.1)"
          />
          <use
            xlink:href="#gentle-wave-2"
            x="48"
            y="7"
            fill="rgba(59, 130, 246, 0.08)"
          />
        </g>
      </svg>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <div class="logo">
            <i class="fas fa-qrcode"></i>
          </div>
          <div class="brand-text">
            <h1>QRusader</h1>
            <span>Malicious URL Detector</span>
          </div>
        </div>
        <div class="nav-links">
          <a href="#" class="nav-link">Products</a>
          <a href="#" class="nav-link">Solutions</a>
          <a href="#" class="nav-link">Resources</a>
          <a href="#" class="nav-link">Docs</a>
        </div>
        <div class="nav-actions">
          <button class="btn-secondary">Contact Sales</button>
          <button class="btn-primary">Try Now</button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header Section -->
      <header class="header-section">
        <h1 class="main-title">QR Code Scanner with Malicious URL Detection</h1>
        <p class="main-subtitle">
          Scan QR codes using your camera and instantly detect malicious URLs.
          No download, full privacy, powered by AI.
        </p>
      </header>

      <!-- Scanner Interface -->
      <section class="scanner-section">
        <!-- Mode Tabs -->
        <div class="mode-tabs">
          <button class="tab-btn active" data-mode="camera">
            <i class="fas fa-camera"></i>
            Scan with Camera
          </button>
          <button class="tab-btn" data-mode="image">
            <i class="fas fa-image"></i>
            Scan from Image
          </button>
        </div>

        <!-- Scanner Panels -->
        <div class="scanner-panels">
          <!-- Camera Panel -->
          <div class="panel camera-panel active" id="camera-panel">
            <div class="panel-header">
              <h3><i class="fas fa-camera"></i> Camera</h3>
            </div>
            <div class="panel-content">
              <div class="camera-container">
                <video id="camera" autoplay muted></video>
                <canvas id="canvas" style="display: none"></canvas>
                <div class="camera-overlay">
                  <div class="scanning-frame">
                    <div class="corner top-left"></div>
                    <div class="corner top-right"></div>
                    <div class="corner bottom-left"></div>
                    <div class="corner bottom-right"></div>
                  </div>
                  <div class="scanning-line"></div>
                </div>
                <button id="start-camera" class="start-btn">
                  <i class="fas fa-play"></i>
                  Start Scanning
                </button>
                <button id="stop-camera" class="stop-btn">
                  <i class="fas fa-stop"></i>
                  Stop
                </button>
                <button
                  class="btn-secondary"
                  onclick="switchMode('image')"
                  style="margin-left: 1rem"
                >
                  <i class="fas fa-image"></i> Test Image
                </button>
              </div>
            </div>
          </div>

          <!-- Image Upload Panel -->
          <div class="panel image-panel" style="display: none" id="image-panel">
            <div class="panel-header">
              <h3><i class="fas fa-image"></i> Upload Image</h3>
            </div>
            <div class="panel-content">
              <div class="image-upload-container">
                <div class="upload-area" id="upload-area">
                  <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                  </div>
                  <h4>Drop your image here</h4>
                  <p>or click to browse files</p>
                  <input
                    type="file"
                    id="image-input"
                    accept="image/*"
                    style="display: none"
                  />
                  <button
                    class="btn-primary"
                    onclick="document.getElementById('image-input').click()"
                  >
                    <i class="fas fa-folder-open"></i> Choose File
                  </button>
                  <button
                    class="btn-secondary"
                    onclick="switchMode('camera')"
                    style="margin-left: 1rem"
                  >
                    <i class="fas fa-camera"></i> Test Camera
                  </button>
                </div>

                <div
                  class="image-preview"
                  id="image-preview"
                  style="display: none"
                >
                  <div class="preview-header">
                    <h4><i class="fas fa-eye"></i> Image Preview</h4>
                    <button class="btn-secondary" id="remove-image">
                      <i class="fas fa-times"></i> Remove
                    </button>
                  </div>
                  <div class="preview-container">
                    <img id="preview-img" alt="Preview" />
                  </div>
                  <div class="preview-actions">
                    <button class="btn-primary" id="scan-image-btn">
                      <i class="fas fa-search"></i> Scan QR Code
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Results Panel -->
          <div class="panel results-panel">
            <div class="panel-header">
              <h3><i class="fas fa-list"></i> Results</h3>
              <div class="panel-actions">
                <button
                  id="test-connection"
                  class="btn-secondary"
                  style="
                    font-size: 0.8rem;
                    padding: 0.5rem 1rem;
                    margin-right: 0.5rem;
                  "
                >
                  <i class="fas fa-wifi"></i> Test
                </button>
                <button
                  id="refresh-results"
                  class="btn-secondary"
                  style="font-size: 0.8rem; padding: 0.5rem 1rem"
                >
                  <i class="fas fa-sync-alt"></i> Refresh
                </button>
              </div>
            </div>
            <!-- Tab Navigation -->
            <div class="results-tabs">
              <button class="tab-button active" data-tab="latest">
                <i class="fas fa-clock"></i> Latest
              </button>
              <button class="tab-button" data-tab="history">
                <i class="fas fa-history"></i> History
              </button>
              <button class="tab-button" data-tab="clear">
                <i class="fas fa-trash"></i> Clear
              </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
              <div id="latest-tab" class="tab-pane active">
                <div class="panel-content">
                  <div id="latest-results" class="results-container">
                    <div class="empty-state">
                      <div class="empty-icon">
                        <i class="fas fa-qrcode"></i>
                      </div>
                      <h4>No recent scans</h4>
                      <p>Start scanning to see the latest result here</p>
                    </div>
                  </div>
                </div>
              </div>

              <div id="history-tab" class="tab-pane">
                <div class="panel-content">
                  <div id="history-results" class="results-container">
                    <div class="empty-state">
                      <div class="empty-icon">
                        <i class="fas fa-history"></i>
                      </div>
                      <h4>No scan history</h4>
                      <p>Your scan history will appear here</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Manual URL Analysis -->
      <section class="manual-analysis">
        <div class="analysis-container">
          <h3>Or analyze a URL directly:</h3>
          <div class="url-input-group">
            <input
              type="url"
              id="url-input"
              placeholder="Enter URL to analyze..."
            />
            <button id="analyze-btn" class="btn-primary">
              <i class="fas fa-search"></i>
              Analyze
            </button>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features-section">
        <h2>Scan QR codes online with our AI-powered tool</h2>
        <p>
          Our advanced QR code scanner quickly and easily reads QR codes
          directly in your browser while analyzing them for malicious content.
          Whether you're using a smartphone, tablet, or desktop computer, our
          tool works seamlessly on all devices without download or installation.
        </p>

        <div class="features-grid">
          <div class="feature-item">
            <i class="fas fa-camera"></i>
            <h4>Camera Scanning</h4>
            <p>
              Use your device camera or webcam to scan QR codes in real-time.
            </p>
          </div>
          <div class="feature-item">
            <i class="fas fa-shield-alt"></i>
            <h4>AI Security Analysis</h4>
            <p>
              Advanced machine learning models detect malicious URLs instantly.
            </p>
          </div>
          <div class="feature-item">
            <i class="fas fa-gift"></i>
            <h4>100% Free</h4>
            <p>
              Use our QR code scanner online as often as you need, completely
              free.
            </p>
          </div>
          <div class="feature-item">
            <i class="fas fa-lock"></i>
            <h4>Private & Secure</h4>
            <p>
              Your data doesn't leave your device. All analysis happens locally.
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
      <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Analyzing URL...</p>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qr-scanner/1.4.2/qr-scanner.umd.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
